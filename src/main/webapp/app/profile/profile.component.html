<div class="root profile-page row p-5 g-5 justify-content-center align-items-start">
  <div class="col-md-4 left-bar d-flex flex-column align-items-start">
    <img
      class="rounded-circle mb-3"
      [src]="user?.avatarURL || 'https://cse.iutoic-dhaka.edu/uploads/img/1601007481_1328.jpg'"
      [alt]="account ? account.firstName + ' ' + account.lastName : 'Users name'"
    />

    <h2 class="mb-4">
      {{ account ? account.firstName + ' ' + account.lastName : "User's name" }}
    </h2>

    <div class="stats d-flex flex-column gap-2 mb-4">
      <div class="d-flex align-items-center gap-1">
        <span class="material-symbols-outlined fill">person_pin</span>
        <p class="m-0">{{ account ? account.login : 'login' }}</p>
      </div>
      <div *ngIf="user" class="d-flex align-items-center gap-1">
        <span class="material-symbols-outlined fill">headphones</span>
        <a [href]="'https://open.spotify.com/user/' + user.spotifyID">Links to {{ user.spotifyUsername }}</a>
      </div>
      <div *ngIf="user" class="d-flex align-items-center gap-1">
        <span class="material-symbols-outlined fill">group</span>
        <a routerLink="/friends">{{ friends?.length }} friends</a>
      </div>
    </div>

    <div class="d-flex gap-2 mb-4">
      <a class="button primary" routerLink="/profile/edit-profile">Edit Profile</a>
      <a class="button primary" routerLink="/account/settings">App Settings</a>
    </div>

    <div *ngIf="user" class="bio">
      <h3>My Bio</h3>
      <p *ngIf="user.bio !== ''">{{ user.bio }}</p>
      <p *ngIf="user.bio === ''"></p>
    </div>
  </div>

  <div class="col-md-4">
    <h3 class="mb-4">Analysed Playlists</h3>
    <!--    </div>-->
    <!--    <div class="row text-muted" *ngIf="playlistData.length == 0">-->
    <!--      <h5>Playlists: {{ 'You currently have no playlists saved.' }}</h5>-->
    <!--    </div>-->
    <!--    <div>-->
    <ng-container *ngIf="playlistData.length > 0; else genericCard">
      <a
        *ngFor="let playlist of playlistData | slice: 0:4; let i = index"
        routerLink="/insights/playlist"
        [queryParams]="{ playlistID: playlist.spotifyID }"
        class="songCard button-card"
      >
        <img [src]="playlist.imageURL" [alt]="'Playlist icon for' + playlist.name" />
        <p>
          <b>{{ playlist.name }}</b>
        </p>
      </a>

      <!--        <a class="card" style="width: 40%" *ngFor="let playlist of playlistData.slice(0, 4)" [href]="constructPlaylistLink(playlist.spotifyID)">-->
      <!--          <div class="card-header">{{ playlist.name }}</div>-->
      <!--          <img class="card-img-top" [src]="playlist.imageURL"  alt="Artwork for {{playlist.name}}"/>-->
      <!--          <p class="card-text">Number of songs: {{ playlist.playlistStats.playlistLength }}</p>-->
      <!--        </a>-->
    </ng-container>

    <ng-template #genericCard>
      <!--        <div class="card" style="width: 40%">-->
      <!--          <div class="card-header text-muted">PlaylistName</div>-->
      <!--          <img-->
      <!--            class="card-img-top"-->
      <!--            [src]="-->
      <!--              'data:image/png;base64,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'-->
      <!--            "-->
      <!--          />-->
      <!--          <p class="card-text placeholder-glow">-->
      <!--            <span class="placeholder col-10"></span>-->
      <!--            <span class="placeholder col-10"></span>-->
      <!--            <span class="placeholder col-10"></span>-->
      <!--          </p>-->
      <!--          <div class="card-footer text-muted">TimePeriod</div>-->
      <!--        </div>-->
      <button class="button-card friend-card" routerLink="/insights/playlist">
        <div class="circle-button">
          <span class="material-symbols-outlined">playlist_add</span>
        </div>

        <p class="name">Analyse Playlist</p>
      </button>
    </ng-template>
  </div>
</div>
